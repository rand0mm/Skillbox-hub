"use strict";document.addEventListener("DOMContentLoaded",(function(){var e=document.querySelector(".burger"),t=document.querySelector(".header__nav"),o=document.querySelector("#search-toggle"),n=document.querySelectorAll(".nav__link"),a=document.querySelector(".nav__scroll"),i=window.matchMedia("(min-width: 1480px)");function c(){e.classList.toggle("burger--active"),e.classList.contains("burger--active")?(clearTimeout(setTimeout((function(){t.style.zIndex=-1}),0)),o.style.zIndex=1,t.style.zIndex=2,gsap.fromTo(".header__nav",{xPercent:-100,opacity:.8},{duration:1,scaleX:1,xPercent:0,opacity:1})):e.classList.contains("burger--active")||(o.style.zIndex=4,gsap.fromTo(".header__nav",{xPercent:0,opacity:1},{duration:1,scaleX:0,xPercent:-100,opacity:.8}),setTimeout((function(){t.style.zIndex=-1}),600))}i.matches||new SimpleBar(a,{scrollbarMaxSize:20}),i.addEventListener("change",(function(){i.matches?document.querySelector(".nav__box").classList.add("overflow-hidden"):(new SimpleBar(a,{scrollbarMaxSize:20}),document.querySelector(".nav__box").classList.remove("overflow-hidden"))})),e.addEventListener("click",c),n.forEach((function(t){t.addEventListener("click",(function(){e.classList.contains("burger--active")&&c()}))})),matchMedia&&i.addEventListener("change",(function(){i.matches?(t.style.zIndex=1,o.style.zIndex=1,gsap.fromTo(".header__nav",{xPercent:-100,opacity:.8},{duration:0,scaleX:1,xPercent:0,opacity:1})):(e.classList.contains("burger--active")||(o.style.zIndex=4,t.style.zIndex=-1,gsap.fromTo(".header__nav",{xPercent:0,opacity:1},{duration:0,scaleX:0,xPercent:-100,opacity:.8})),e.addEventListener("click",c),n.forEach((function(t){t.addEventListener("click",(function(){e.classList.contains("burger--active")&&c()}))})))}))})),document.addEventListener("DOMContentLoaded",(function(){var e=document.querySelector("#search-toggle"),t=document.getElementById("toggle-open"),o=document.getElementById("toggle-closed");e.addEventListener("click",(function(n){t.classList.toggle("active"),o.classList.toggle("active"),n.currentTarget.classList.toggle("active"),e.classList.contains("active")?gsap.fromTo(".header__search",{scaleX:0,xPercent:-50,opacity:.8},{duration:.6,scaleX:1,xPercent:-0,opacity:1}):e.classList.contains("active")||gsap.fromTo(".header__search",{scaleX:1,xPercent:0,opacity:1},{duration:.6,scaleX:0,xPercent:-50,opacity:.8})}))})),document.addEventListener("DOMContentLoaded",(function(){document.querySelectorAll(".dropdown__btn").forEach((function(e){e.addEventListener("click",(function(t){var o=t.currentTarget.dataset.path,n=document.querySelector('[data-target="'.concat(o,'"]')),a=(n.querySelector(".dropdown__item"),e.querySelector(".dropdown__icon-svg"));document.querySelectorAll(".dropdown__box").forEach((function(e){n!==e&&e.classList.remove("active")})),document.querySelectorAll(".dropdown__icon-svg").forEach((function(e){a!==e&&e.classList.remove("dropdown__icon-svg_active")})),a.classList.toggle("dropdown__icon-svg_active"),n.classList.toggle("active")}))})),document.addEventListener("click",(function(e){e.target.classList.contains("dropdown__item")||e.target.classList.contains("dropdown__box")||e.target.classList.contains("dropdown__btn")||(document.querySelectorAll(".dropdown__box").forEach((function(e){e.classList.remove("active")})),document.querySelectorAll(".dropdown__icon-svg").forEach((function(e){e.classList.remove("dropdown__icon-svg_active")})))}))})),document.querySelectorAll(".dropdown__scrollbar").forEach((function(e){new SimpleBar(e,{scrollbarMaxSize:40})}));new Swiper(".top-wrap__swiper",{allowTouchMove:!1,loop:!0,effect:"fade",speed:1e4,autoplay:{delay:1e4}}),new Swiper(".gallery__swiper",{slidesPerView:1,grid:{rows:1,fill:"row"},spaceBetween:20,pagination:{el:".gallery__pagination",type:"fraction"},navigation:{nextEl:".gallery__btn-next",prevEl:".gallery__btn-prev",disabledClass:"swiper-btn-disabled"},breakpoints:{480:{slidesPerView:2,slidesPerGroup:2,spaceBetween:14},750:{slidesPerView:2,slidesPerGroup:2,spaceBetween:34},769:{slidesPerView:3,slidesPerGroup:3,spaceBetween:34},1014:{slidesPerView:2,slidesPerGroup:2,spaceBetween:34},1480:{slidesPerView:3,slidesPerGroup:6,spaceBetween:50}},a11y:!1,keyboard:!0,watchSlidesProgress:!0,watchSlidesVisibility:!0,slideVisibleClass:"slide-visible",on:{init:function(){this.slides.forEach((function(e){e.classList.contains("slide-visible")?e.tabIndex="":e.tabIndex="-1"}))},slideChange:function(){this.slides.forEach((function(e){e.classList.contains("slide-visible")?e.tabIndex="":e.tabIndex="-1"}))}}});document.addEventListener("DOMContentLoaded",(function(){document.querySelectorAll(".select").forEach((function(e){new Choices(e,{searchEnabled:!1,position:"bottom",shouldSort:!1,itemSelectText:""})}))})),document.addEventListener("DOMContentLoaded",(function(){var e=document.querySelector("body");function t(){var t=parseInt(e.dataset.position,10);e.style.top="auto",e.classList.remove("disable-scroll"),isNaN(t)&&(t=window.scrollY),console.log(t),console.log(isNaN(t)),console.log(window.scrollY),window.scroll({top:t,left:0}),e.removeAttribute("data-position")}document.querySelectorAll(".gallery__slide").forEach((function(o){o.addEventListener("click",(function(o){var n,a=o.currentTarget.dataset.path,i=document.querySelector('[data-target="'.concat(a,'"]')),c=i.querySelector(".modal__btn");document.querySelectorAll(".modal").forEach((function(e){e.classList.add("deactivate")})),n=window.scrollY,e.classList.add("disable-scroll"),e.dataset.position=n,e.style.top=-n+"px",i.classList.remove("deactivate"),i.addEventListener("click",(function(e){var o=i.querySelector(".modal__overlay");e.target===o&&(t(),i.classList.add("deactivate"))})),c.addEventListener("click",(function(){t(),i.classList.add("deactivate")})),i.classList.contains("deactivate")||gsap.fromTo(".modal__box",{scaleX:.5,scaleY:.5,opacity:.8},{duration:.6,scaleX:1,scaleY:1,opacity:1})}))}))})),document.querySelectorAll(".modal__box").forEach((function(e){new SimpleBar(e,{scrollbarMaxSize:40})})),document.addEventListener("DOMContentLoaded",(function(){document.querySelectorAll(".accordion__link").forEach((function(e){e.addEventListener("click",(function(e){var t=e.currentTarget.dataset.path;document.querySelectorAll(".accordion__link").forEach((function(e){e.classList.remove("accordion__link_active")})),e.currentTarget.classList.add("accordion__link_active"),document.querySelectorAll(".tab__item").forEach((function(e){e.classList.add("deactivate")})),document.querySelector('[data-target="'.concat(t,'"]')).classList.remove("deactivate"),gsap.fromTo(".tab__item",{opacity:0},{duration:.8,opacity:1})}))}))})),document.addEventListener("DOMContentLoaded",(function(){new Accordion(".js-accordion-container",{openOnInit:[0]})}));new Swiper(".events__swiper",{slidesPerView:1,grid:{rows:1,fill:"row"},a11y:!1,keyboard:!0,watchSlidesProgress:!0,watchSlidesVisibility:!0,navigation:{prevEl:".events__btn-prev",nextEl:".events__btn-next",disabledClass:"deactivate"},pagination:{el:".events__pagination",clickable:!0},breakpoints:{568:{slidesPerView:2,slidesPerGroup:2,spaceBetween:34},992:{slidesPerView:3,slidesPerGroup:3,spaceBetween:24},1480:{slidesPerView:3,slidesPerGroup:3,spaceBetween:52}}}),new Swiper(".progects__swiper",{slidesPerView:1,grid:{rows:1,fill:"row"},navigation:{prevEl:".progects__btn_prev",nextEl:".progects__btn_next",disabledClass:"swiper-btn-disabled-light"},breakpoints:{750:{slidesPerView:2,spaceBetween:34},769:{slidesPerView:2,spaceBetween:50},1480:{slidesPerView:3,spaceBetween:50}}});document.addEventListener("DOMContentLoaded",(function(){tippy(".js-tooltip",{maxWidth:264,theme:"castom-tooltip"})}));var e=document.querySelector("input[type='tel']");function t(){o=!0;var e=new ymaps.Map("map",{center:[55.758468,37.601088],zoom:15,controls:["geolocationControl","zoomControl"]},{suppressMapOpenBlock:!0,geolocationControlSize:"large",geolocationControlPosition:{top:"200px",right:"20px"},geolocationControlFloat:"none",zoomControlSize:"small",zoomControlFloat:"none",zoomControlPosition:{top:"120px",right:"20px"}}),t=new ymaps.Placemark([55.758468,37.601088],{},{iconLayout:"default#image",iconImageHref:"img/geoObject.svg",iconImageSize:[20,20]});e.geoObjects.add(t),e.behaviors.disable("scrollZoom")}new Inputmask("+7 (999)-999-99-99").mask(e),new JustValidate(".form",{rules:{name:{required:!0,minLength:2,maxLength:24},tel:{required:!0,strength:{custom:"[^_]$"}}},messages:{name:{required:"Как вас зовут?",minLength:"Короткое имя",maxLength:"Длинное имя"},tel:"Укажите ваш телефон"},submitHandler:function(e){var t=new FormData(e),o=new XMLHttpRequest;o.onreadystatechange=function(){4===o.readyState&&200===o.status&&console.log("Отправлено")},o.open("POST","mail.php",!0),o.send(t),e.reset()}}),document.querySelectorAll(".js-scroll-link").forEach((function(e){e.addEventListener("click",(function(e){var t=this.getAttribute("href").substring(1),o=document.getElementById(t).getBoundingClientRect().top;e.preventDefault(),window.scrollBy({top:o,behavior:"smooth"})}))}));var o=!1;document.addEventListener("DOMContentLoaded",(function(){var e=document.querySelector("#map"),n=function(e){var n=window.pageYOffset+e.getBoundingClientRect().top,a=window.pageXOffset+e.getBoundingClientRect().left,i=window.pageXOffset+e.getBoundingClientRect().right,c=window.pageYOffset+e.getBoundingClientRect().bottom,s=window.pageYOffset,r=window.pageXOffset,l=window.pageXOffset+document.documentElement.clientWidth,d=window.pageYOffset+document.documentElement.clientHeight;c>s&&n<d&&i>r&&a<l&&(ymaps.ready(t),o=!0,console.log("Карта подгрузилась"))};window.addEventListener("scroll",(function(){!0!==o&&n(e)})),n(e)}));